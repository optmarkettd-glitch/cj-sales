# Админ-панель

## Доступ к админ-панели

Админ-панель доступна по адресу: `/admin`

### Авторизация

По умолчанию пароль: `admin123`

Для изменения пароля установите переменную окружения:
```
ADMIN_PASSWORD=ваш_новый_пароль
```

Создайте файл `.env.local` в корне проекта и добавьте туда:
```
ADMIN_PASSWORD=ваш_безопасный_пароль
```

## Функционал

- **Просмотр заявок**: Все заявки отображаются в таблицах
  - Заявки на диагностику системы продаж
  - Заявки на получение бесплатных материалов
- **Вкладки**: Переключение между типами заявок (Все / Диагностика / Материалы)
- **Сортировка**: Заявки отсортированы по дате (новые сверху)
- **Контактная информация**: Клик по телефону открывает звонок
- **Обновление данных**: Кнопка "Обновить" для получения новых заявок

## Хранение данных

Данные сохраняются в следующих файлах:
- `data/diagnostics.json` - заявки на диагностику
- `data/materials.json` - заявки на получение материалов

Оба файла добавлены в `.gitignore` и не будут попадать в систему контроля версий.

## Безопасность

- Авторизация через cookies с httpOnly флагом
- Защита админ-панели через middleware
- Проверка авторизации на всех защищенных API endpoints

## API Endpoints

### Публичные endpoints
- `POST /api/diagnostics/submit` - Отправка заявки на диагностику
- `POST /api/materials/submit` - Отправка заявки на материалы

### Защищенные endpoints (требуют авторизации)
- `POST /api/auth/login` - Авторизация в админ-панель
- `POST /api/auth/logout` - Выход из админ-панели
- `GET /api/admin/diagnostics` - Получение списка заявок на диагностику
- `GET /api/admin/materials` - Получение списка заявок на материалы

